<div class="page-container">
    <app-error></app-error>
    <div class="container">
        <form #RegisterForm="ngForm" (ngSubmit)="registerSubmitHandler()" class="form">
            <div class="input-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" maxlength="48" required #emailInput="ngModel" ngModel />
                <div *ngIf="(emailInput.invalid && emailInput.touched) || submitted">
                    <small *ngIf="emailInput.errors?.['required']">Email is required.</small>
                    <small *ngIf="isInvalidEmail()">Invalid email format.</small>
                </div>
            </div>

            <div class="input-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required minlength="3" maxlength="18"
                    #usernameInput="ngModel" ngModel />
                <div *ngIf="(usernameInput.invalid && usernameInput.touched) || submitted">
                    <small *ngIf="usernameInput.errors?.['required']">Username is required.</small>
                    <small *ngIf="usernameInput.errors?.['minlength']">Username must be at least 3 characters.</small>
                    <small *ngIf="isInvalidUsername()">Username can only contain letters, numbers, and
                        underscores.</small>
                </div>
            </div>

            <div class="input-group">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" name="fullName" maxlength="48" required #fullNameInput="ngModel"
                    ngModel />
                <div *ngIf="(fullNameInput.invalid && fullNameInput.touched) || submitted">
                    <small *ngIf="fullNameInput.errors?.['required']">Full name is required.</small>
                </div>
            </div>

            <div class="input-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required minlength="6" maxlength="24"
                    #passwordInput="ngModel" ngModel />
                <div *ngIf="(passwordInput.invalid && passwordInput.touched) || submitted">
                    <small *ngIf="passwordInput.errors?.['required']">Password is required.</small>
                    <small *ngIf="passwordInput.errors?.['minlength']">Password must be at least 6 characters.</small>
                </div>
            </div>

            <div class="input-group">
                <label for="repeat_password">Repeat Password</label>
                <input type="password" id="repeat_password" name="repeat_password" maxlength="24" required
                    #repeatPasswordInput="ngModel" ngModel />
                <div *ngIf="(repeatPasswordInput.invalid && repeatPasswordInput.touched) || submitted">
                    <small *ngIf="repeatPasswordInput.errors?.['required']">Please repeat your password.</small>
                    <small *ngIf="isPasswordsMismatch()">Passwords do not match.</small>
                </div>
            </div>

            <button type="submit" class="submit-button">Create Account</button>
        </form>
    </div>
</div>